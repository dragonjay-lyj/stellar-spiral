---
interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<link rel="sitemap" href="/sitemap-index.xml" />
		<script async src="https://dragonjayum.zeabur.app/script.js" data-website-id="7d5538e4-1d96-4854-8f8b-8531c1939b4c"></script>
		<link rel="stylesheet" href="https://unpkg.com/mdui@1.0.2/dist/css/mdui.min.css" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/dragonjay-lyj/font@main/all1.css" media="all" onload="this.media='all'">
		<script async src="https://platform.twitter.com/widgets.js"></script>
		<script src="https://unpkg.com/mdui@1.0.2/dist/js/mdui.min.js"></script>
	</head>
	<body class="mdui-drawer-body-left dark:bg-gray-900">
		<slot />
		<script>
			document.addEventListener('DOMContentLoaded', function () {
			  var themeToggle = document.getElementById('theme-toggle');
			  var theme = localStorage.getItem('theme') ?? 'light';
		
			  var updateTheme = function () {
				if (theme === 'dark') {
				  document.documentElement.classList.add('dark');
				} else {
				  document.documentElement.classList.remove('dark');
				}
				localStorage.setItem('theme', theme);
			  };
		
			  themeToggle.addEventListener("change", e => {
				if (e.detail === 'dark') {
					document.documentElement.classList.add('dark');
				} else {
				  document.documentElement.classList.remove('dark');
				}
				localStorage.setItem('theme', theme);
			  });

			  themeToggle.addEventListener('click', function () {
				theme = theme === 'light' ? 'dark' : 'light';
				updateTheme();
			  });
		
			  updateTheme();
			});
		  </script>
			<script is:inline>
				const theme = (() => {
				  if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
					return localStorage.getItem("theme");
				  }
				  if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
					return "dark";
				  }
				  return "light";
				})();
			  
				if (theme === "light") {
				  document.documentElement.classList.remove("dark");
				} else {
				  document.documentElement.classList.add("dark");
				}
				window.localStorage.setItem("theme", theme);
			  </script>
	</body>
</html>